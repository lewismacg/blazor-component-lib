function _slicedToArray(e, t) { return _arrayWithHoles(e) || _iterableToArrayLimit(e, t) || _unsupportedIterableToArray(e, t) || _nonIterableRest() } function _nonIterableRest() { throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function _iterableToArrayLimit(e, t) { var i = null == e ? null : "undefined" != typeof Symbol && e[Symbol.iterator] || e["@@iterator"]; if (null != i) { var n, a, r = [], s = !0, o = !1; try { for (i = i.call(e); !(s = (n = i.next()).done) && (r.push(n.value), !t || r.length !== t); s = !0); } catch (e) { o = !0, a = e } finally { try { s || null == i.return || i.return() } finally { if (o) throw a } } return r } } function _arrayWithHoles(e) { if (Array.isArray(e)) return e } function _get(e, t, i) { return (_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (e, t, i) { var n = _superPropBase(e, t); if (n) { var a = Object.getOwnPropertyDescriptor(n, t); return a.get ? a.get.call(i) : a.value } })(e, t, i || e) } function _superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = _getPrototypeOf(e));); return e } function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function"); e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && _setPrototypeOf(e, t) } function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function (e, t) { return e.__proto__ = t, e })(e, t) } function _createSuper(e) { var t = _isNativeReflectConstruct(); return function () { var i, n = _getPrototypeOf(e); if (t) { var a = _getPrototypeOf(this).constructor; i = Reflect.construct(n, arguments, a) } else i = n.apply(this, arguments); return _possibleConstructorReturn(this, i) } } function _possibleConstructorReturn(e, t) { if (t && ("object" === _typeof(t) || "function" == typeof t)) return t; if (void 0 !== t) throw new TypeError("Derived constructors may only return object or undefined"); return _assertThisInitialized(e) } function _assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e } function _isNativeReflectConstruct() { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () { })), !0 } catch (e) { return !1 } } function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function (e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) } function _typeof(e) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (e) { return typeof e } : function (e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) } function _classCallCheck(e, t) { if (!_instanceof(e, t)) throw new TypeError("Cannot call a class as a function") } function _defineProperties(e, t) { for (var i = 0; i < t.length; i++) { var n = t[i]; n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n) } } function _createClass(e, t, i) { return t && _defineProperties(e.prototype, t), i && _defineProperties(e, i), e } function _toConsumableArray(e) { return _arrayWithoutHoles(e) || _iterableToArray(e) || _unsupportedIterableToArray(e) || _nonIterableSpread() } function _nonIterableSpread() { throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.") } function _unsupportedIterableToArray(e, t) { if (e) { if ("string" == typeof e) return _arrayLikeToArray(e, t); var i = Object.prototype.toString.call(e).slice(8, -1); return "Object" === i && e.constructor && (i = e.constructor.name), "Map" === i || "Set" === i ? Array.from(e) : "Arguments" === i || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i) ? _arrayLikeToArray(e, t) : void 0 } } function _iterableToArray(e) { if ("undefined" != typeof Symbol && null != e[Symbol.iterator] || null != e["@@iterator"]) return Array.from(e) } function _arrayWithoutHoles(e) { if (Array.isArray(e)) return _arrayLikeToArray(e) } function _arrayLikeToArray(e, t) { (null == t || t > e.length) && (t = e.length); for (var i = 0, n = new Array(t); i < t; i++)n[i] = e[i]; return n } function _instanceof(e, t) { return null != t && "undefined" != typeof Symbol && t[Symbol.hasInstance] ? !!t[Symbol.hasInstance](e) : e instanceof t } !function () { "use strict"; function e(e, t) { return Object.prototype.hasOwnProperty.call(e, t) } function t(e) { return e[e.length - 1] } function i(e) { for (var t = arguments.length, i = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++)i[n - 1] = arguments[n]; return i.forEach(function (t) { e.includes(t) || e.push(t) }), e } function n(e, t) { return e ? e.split(t) : [] } function a(e, t, i) { return (void 0 === t || e >= t) && (void 0 === i || e <= i) } function r(e, t, i) { return e < t ? t : e > i ? i : e } function s(e, t) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {}, n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : "", r = Object.keys(i).reduce(function (e, t) { var a = i[t]; return "function" == typeof a && (a = a(n)), "".concat(e, " ").concat(t, '="').concat(a, '"') }, e); a += "<".concat(r, "></").concat(e, ">"); var o = n + 1; return o < t ? s(e, t, i, o, a) : a } function o(e) { return e.replace(/>\s+/g, ">").replace(/\s+</, "<") } function d(e) { return new Date(e).setHours(0, 0, 0, 0) } function c() { return (new Date).setHours(0, 0, 0, 0) } function l() { switch (arguments.length) { case 0: return c(); case 1: return d(arguments.length <= 0 ? void 0 : arguments[0]) }var e = new Date(0); return e.setFullYear.apply(e, arguments), e.setHours(0, 0, 0, 0) } function u(e, t) { var i = new Date(e); return i.setDate(i.getDate() + t) } function h(e, t) { var i = new Date(e), n = i.getMonth() + t, a = n % 12; a < 0 && (a += 12); var r = i.setMonth(n); return i.getMonth() !== a ? i.setDate(0) : r } function f(e, t) { var i = new Date(e), n = i.getMonth(), a = i.setFullYear(i.getFullYear() + t); return 1 === n && 2 === i.getMonth() ? i.setDate(0) : a } function p(e, t) { return (e - t + 7) % 7 } function v(e, t) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0, n = new Date(e).getDay(); return u(e, p(t, i) - p(n, i)) } function y(e, t) { var i = new Date(e).getFullYear(); return Math.floor(i / t) * t } var g = /dd?|DD?|mm?|MM?|yy?(?:yy)?/, m = /[\s!-/:-@[-`{-~年月日]+/, k = {}, w = { y: function (e, t) { return new Date(e).setFullYear(parseInt(t, 10)) }, m: function (e, t, i) { var n = new Date(e), a = parseInt(t, 10) - 1; if (isNaN(a)) { if (!t) return NaN; var r = t.toLowerCase(), s = function (e) { return e.toLowerCase().startsWith(r) }; if ((a = i.monthsShort.findIndex(s)) < 0 && (a = i.months.findIndex(s)), a < 0) return NaN } return n.setMonth(a), n.getMonth() !== function e(t) { return t > -1 ? t % 12 : e(t + 12) }(a) ? n.setDate(0) : n.getTime() }, d: function (e, t) { return new Date(e).setDate(parseInt(t, 10)) } }, b = { d: function (e) { return e.getDate() }, dd: function (e) { return D(e.getDate(), 2) }, D: function (e, t) { return t.daysShort[e.getDay()] }, DD: function (e, t) { return t.days[e.getDay()] }, m: function (e) { return e.getMonth() + 1 }, mm: function (e) { return D(e.getMonth() + 1, 2) }, M: function (e, t) { return t.monthsShort[e.getMonth()] }, MM: function (e, t) { return t.months[e.getMonth()] }, y: function (e) { return e.getFullYear() }, yy: function (e) { return D(e.getFullYear(), 2).slice(-2) }, yyyy: function (e) { return D(e.getFullYear(), 4) } }; function D(e, t) { return e.toString().padStart(t, "0") } function _(e) { if ("string" != typeof e) throw new Error("Invalid date format."); if (e in k) return k[e]; var i = e.split(g), n = e.match(new RegExp(g, "g")); if (0 === i.length || !n) throw new Error("Invalid date format."); var a = n.map(function (e) { return b[e] }), r = Object.keys(w).reduce(function (e, t) { return n.find(function (e) { return "D" !== e[0] && e[0].toLowerCase() === t }) && e.push(t), e }, []); return k[e] = { parser: function (e, t) { var i = e.split(m).reduce(function (e, t, i) { if (t.length > 0 && n[i]) { var a = n[i][0]; "M" === a ? e.m = t : "D" !== a && (e[a] = t) } return e }, {}); return r.reduce(function (e, n) { var a = w[n](e, i[n], t); return isNaN(a) ? e : a }, c()) }, formatter: function (e, n) { return a.reduce(function (t, a, r) { return t + "".concat(i[r]).concat(a(e, n)) }, "") + t(i) } } } function S(e, t, i) { if (_instanceof(e, Date) || "number" == typeof e) { var n = d(e); return isNaN(n) ? void 0 : n } if (e) { if ("today" === e) return c(); if (t && t.toValue) { var a = t.toValue(e, t, i); return isNaN(a) ? void 0 : d(a) } return _(t).parser(e, i) } } function C(e, t, i) { if (isNaN(e) || !e && 0 !== e) return ""; var n = "number" == typeof e ? new Date(e) : e; return t.toDisplay ? t.toDisplay(n, t, i) : _(t).formatter(n, i) } var O = new WeakMap, x = EventTarget.prototype, M = x.addEventListener, A = x.removeEventListener; function E(e, t) { var i = O.get(e); i || (i = [], O.set(e, i)), t.forEach(function (e) { M.call.apply(M, _toConsumableArray(e)), i.push(e) }) } function F(e) { var t = O.get(e); t && (t.forEach(function (e) { A.call.apply(A, _toConsumableArray(e)) }), O.delete(e)) } if (!Event.prototype.composedPath) { Event.prototype.composedPath = function () { return function e(t) { var i, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []; return n.push(t), t.parentNode ? i = t.parentNode : t.host ? i = t.host : t.defaultView && (i = t.defaultView), i ? e(i, n) : n }(this.target) } } function V(e, t) { var i = "function" == typeof t ? t : function (e) { return e.matches(t) }; return function e(t, i, n) { var a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0, r = t[a]; return i(r) ? r : r !== n && r.parentElement ? e(t, i, n, a + 1) : void 0 }(e.composedPath(), i, e.currentTarget) } var N = { en: { days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], today: "Today", clear: "Clear", titleFormat: "MM y" } }, L = { autohide: !1, beforeShowDay: null, beforeShowDecade: null, beforeShowMonth: null, beforeShowYear: null, calendarWeeks: !1, clearBtn: !1, dateDelimiter: ",", datesDisabled: [], daysOfWeekDisabled: [], daysOfWeekHighlighted: [], defaultViewDate: void 0, disableTouchKeyboard: !1, format: "mm/dd/yyyy", language: "en", maxDate: null, maxNumberOfDates: 1, maxView: 3, minDate: null, nextArrow: "»", orientation: "auto", pickLevel: 0, prevArrow: "«", showDaysOfWeek: !0, showOnClick: !0, showOnFocus: !0, startView: 0, title: "", todayBtn: !1, todayBtnMode: 0, todayHighlight: !1, updateOnBlur: !0, weekStart: 0 }, B = document.createRange(); function T(e) { return B.createContextualFragment(e) } function W(e) { "none" !== e.style.display && (e.style.display && (e.dataset.styleDisplay = e.style.display), e.style.display = "none") } function Y(e) { "none" === e.style.display && (e.dataset.styleDisplay ? (e.style.display = e.dataset.styleDisplay, delete e.dataset.styleDisplay) : e.style.display = "") } function P(e) { e.firstChild && (e.removeChild(e.firstChild), P(e)) } var j = L.language, I = L.format, R = L.weekStart; function H(e, t) { return e.length < 6 && t >= 0 && t < 7 ? i(e, t) : e } function K(e) { return (e + 6) % 7 } function q(e, t, i, n) { var a = S(e, t, i); return void 0 !== a ? a : n } function J(e, t) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 3, n = parseInt(e, 10); return n >= 0 && n <= i ? n : t } function z(t, n) { var a, r = Object.assign({}, t), s = {}, o = n.constructor.locales, d = n.config || {}, c = d.format, u = d.language, h = d.locale, f = d.maxDate, p = d.maxView, v = d.minDate, y = d.pickLevel, m = d.startView, k = d.weekStart; if (r.language && (r.language !== u && (o[r.language] ? a = r.language : void 0 === o[a = r.language.split("-")[0]] && (a = !1)), delete r.language, a)) { u = s.language = a; var w = h || o[j]; h = Object.assign({ format: I, weekStart: R }, o[j]), u !== j && Object.assign(h, o[u]), s.locale = h, c === w.format && (c = s.format = h.format), k === w.weekStart && (k = s.weekStart = h.weekStart, s.weekEnd = K(h.weekStart)) } if (r.format) { var b = "function" == typeof r.format.toDisplay, D = "function" == typeof r.format.toValue, _ = g.test(r.format); (b && D || _) && (c = s.format = r.format), delete r.format } var C = v, O = f; if (void 0 !== r.minDate && (C = null === r.minDate ? l(0, 0, 1) : q(r.minDate, c, h, C), delete r.minDate), void 0 !== r.maxDate && (O = null === r.maxDate ? void 0 : q(r.maxDate, c, h, O), delete r.maxDate), O < C ? (v = s.minDate = O, f = s.maxDate = C) : (v !== C && (v = s.minDate = C), f !== O && (f = s.maxDate = O)), r.datesDisabled && (s.datesDisabled = r.datesDisabled.reduce(function (e, t) { var n = S(t, c, h); return void 0 !== n ? i(e, n) : e }, []), delete r.datesDisabled), void 0 !== r.defaultViewDate) { var x = S(r.defaultViewDate, c, h); void 0 !== x && (s.defaultViewDate = x), delete r.defaultViewDate } if (void 0 !== r.weekStart) { var M = Number(r.weekStart) % 7; isNaN(M) || (k = s.weekStart = M, s.weekEnd = K(M)), delete r.weekStart } if (r.daysOfWeekDisabled && (s.daysOfWeekDisabled = r.daysOfWeekDisabled.reduce(H, []), delete r.daysOfWeekDisabled), r.daysOfWeekHighlighted && (s.daysOfWeekHighlighted = r.daysOfWeekHighlighted.reduce(H, []), delete r.daysOfWeekHighlighted), void 0 !== r.maxNumberOfDates) { var A = parseInt(r.maxNumberOfDates, 10); A >= 0 && (s.maxNumberOfDates = A, s.multidate = 1 !== A), delete r.maxNumberOfDates } r.dateDelimiter && (s.dateDelimiter = String(r.dateDelimiter), delete r.dateDelimiter); var E = y; void 0 !== r.pickLevel && (E = J(r.pickLevel, 2), delete r.pickLevel), E !== y && (y = s.pickLevel = E); var F = p; void 0 !== r.maxView && (F = J(r.maxView, p), delete r.maxView), (F = y > F ? y : F) !== p && (p = s.maxView = F); var V = m; if (void 0 !== r.startView && (V = J(r.startView, V), delete r.startView), V < y ? V = y : V > p && (V = p), V !== m && (s.startView = V), r.prevArrow) { var N = T(r.prevArrow); N.childNodes.length > 0 && (s.prevArrow = N.childNodes), delete r.prevArrow } if (r.nextArrow) { var B = T(r.nextArrow); B.childNodes.length > 0 && (s.nextArrow = B.childNodes), delete r.nextArrow } if (void 0 !== r.disableTouchKeyboard && (s.disableTouchKeyboard = "ontouchstart" in document && !!r.disableTouchKeyboard, delete r.disableTouchKeyboard), r.orientation) { var W = r.orientation.toLowerCase().split(/\s+/g); s.orientation = { x: W.find(function (e) { return "left" === e || "right" === e }) || "auto", y: W.find(function (e) { return "top" === e || "bottom" === e }) || "auto" }, delete r.orientation } if (void 0 !== r.todayBtnMode) { switch (r.todayBtnMode) { case 0: case 1: s.todayBtnMode = r.todayBtnMode }delete r.todayBtnMode } return Object.keys(r).forEach(function (t) { void 0 !== r[t] && e(L, t) && (s[t] = r[t]) }), s } var U = o('<div class="datepicker">\n  <div class="datepicker-picker">\n    <div class="datepicker-header">\n      <div class="datepicker-title"></div>\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% prev-btn"></button>\n        <button type="button" class="%buttonClass% view-switch"></button>\n        <button type="button" class="%buttonClass% next-btn"></button>\n      </div>\n    </div>\n    <div class="datepicker-main"></div>\n    <div class="datepicker-footer">\n      <div class="datepicker-controls">\n        <button type="button" class="%buttonClass% today-btn"></button>\n        <button type="button" class="%buttonClass% clear-btn"></button>\n      </div>\n    </div>\n  </div>\n</div>'), X = o('<div class="days">\n  <div class="days-of-week">'.concat(s("span", 7, { class: "dow" }), '</div>\n  <div class="datepicker-grid">').concat(s("span", 42), "</div>\n</div>")), $ = o('<div class="calendar-weeks">\n  <div class="days-of-week"><span class="dow"></span></div>\n  <div class="weeks">'.concat(s("span", 6, { class: "week" }), "</div>\n</div>")), G = function () { function e(t, i) { _classCallCheck(this, e), Object.assign(this, i, { picker: t, element: T('<div class="datepicker-view"></div>').firstChild, selected: [] }), this.init(this.picker.datepicker.config) } return _createClass(e, [{ key: "init", value: function (e) { void 0 !== e.pickLevel && (this.isMinView = this.id === e.pickLevel), this.setOptions(e), this.updateFocus(), this.updateSelection() } }, { key: "performBeforeHook", value: function (e, t, n) { var a = this.beforeShow(new Date(n)); switch (_typeof(a)) { case "boolean": a = { enabled: a }; break; case "string": a = { classes: a } }if (a) { if (!1 === a.enabled && (e.classList.add("disabled"), i(this.disabled, t)), a.classes) { var r, s = a.classes.split(/\s+/); (r = e.classList).add.apply(r, _toConsumableArray(s)), s.includes("disabled") && i(this.disabled, t) } a.content && function (e, t) { P(e), _instanceof(t, DocumentFragment) ? e.appendChild(t) : "string" == typeof t ? e.appendChild(T(t)) : "function" == typeof t.forEach && t.forEach(function (t) { e.appendChild(t) }) }(e, a.content) } } }]), e }(), Q = function (t) { _inherits(a, G); var n = _createSuper(a); function a(e) { return _classCallCheck(this, a), n.call(this, e, { id: 0, name: "days", cellClass: "day" }) } return _createClass(a, [{ key: "init", value: function (e) { if (!(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]) { var t = T(X).firstChild; this.dow = t.firstChild, this.grid = t.lastChild, this.element.appendChild(t) } _get(_getPrototypeOf(a.prototype), "init", this).call(this, e) } }, { key: "setOptions", value: function (t) { var i, n = this; if (e(t, "minDate") && (this.minDate = t.minDate), e(t, "maxDate") && (this.maxDate = t.maxDate), t.datesDisabled && (this.datesDisabled = t.datesDisabled), t.daysOfWeekDisabled && (this.daysOfWeekDisabled = t.daysOfWeekDisabled, i = !0), t.daysOfWeekHighlighted && (this.daysOfWeekHighlighted = t.daysOfWeekHighlighted), void 0 !== t.todayHighlight && (this.todayHighlight = t.todayHighlight), void 0 !== t.weekStart && (this.weekStart = t.weekStart, this.weekEnd = t.weekEnd, i = !0), t.locale) { var a = this.locale = t.locale; this.dayNames = a.daysMin, this.switchLabelFormat = a.titleFormat, i = !0 } if (void 0 !== t.beforeShowDay && (this.beforeShow = "function" == typeof t.beforeShowDay ? t.beforeShowDay : void 0), void 0 !== t.calendarWeeks) if (t.calendarWeeks && !this.calendarWeeks) { var r = T($).firstChild; this.calendarWeeks = { element: r, dow: r.firstChild, weeks: r.lastChild }, this.element.insertBefore(r, this.element.firstChild) } else this.calendarWeeks && !t.calendarWeeks && (this.element.removeChild(this.calendarWeeks.element), this.calendarWeeks = null); void 0 !== t.showDaysOfWeek && (t.showDaysOfWeek ? (Y(this.dow), this.calendarWeeks && Y(this.calendarWeeks.dow)) : (W(this.dow), this.calendarWeeks && W(this.calendarWeeks.dow))), i && Array.from(this.dow.children).forEach(function (e, t) { var i = (n.weekStart + t) % 7; e.textContent = n.dayNames[i], e.className = n.daysOfWeekDisabled.includes(i) ? "dow disabled" : "dow" }) } }, { key: "updateFocus", value: function () { var e = new Date(this.picker.viewDate), t = e.getFullYear(), i = e.getMonth(), n = l(t, i, 1), a = v(n, this.weekStart, this.weekStart); this.first = n, this.last = l(t, i + 1, 0), this.start = a, this.focused = this.picker.viewDate } }, { key: "updateSelection", value: function () { var e = this.picker.datepicker, t = e.dates, i = e.rangepicker; this.selected = t, i && (this.range = i.dates) } }, { key: "render", value: function () { var e = this; this.today = this.todayHighlight ? c() : void 0, this.disabled = _toConsumableArray(this.datesDisabled); var t = C(this.focused, this.switchLabelFormat, this.locale); if (this.picker.setViewSwitchLabel(t), this.picker.setPrevBtnDisabled(this.first <= this.minDate), this.picker.setNextBtnDisabled(this.last >= this.maxDate), this.calendarWeeks) { var n = v(this.first, 1, 1); Array.from(this.calendarWeeks.weeks.children).forEach(function (e, t) { e.textContent = function (e) { var t = v(e, 4, 1), i = v(new Date(t).setMonth(0, 4), 4, 1); return Math.round((t - i) / 6048e5) + 1 }(u(n, 7 * t)) }) } Array.from(this.grid.children).forEach(function (t, n) { var a = t.classList, r = u(e.start, n), s = new Date(r), o = s.getDay(); if (t.className = "datepicker-cell ".concat(e.cellClass), t.dataset.date = r, t.textContent = s.getDate(), r < e.first ? a.add("prev") : r > e.last && a.add("next"), e.today === r && a.add("today"), (r < e.minDate || r > e.maxDate || e.disabled.includes(r)) && a.add("disabled"), e.daysOfWeekDisabled.includes(o) && (a.add("disabled"), i(e.disabled, r)), e.daysOfWeekHighlighted.includes(o) && a.add("highlighted"), e.range) { var d = _slicedToArray(e.range, 2), c = d[0], l = d[1]; r > c && r < l && a.add("range"), r === c && a.add("range-start"), r === l && a.add("range-end") } e.selected.includes(r) && a.add("selected"), r === e.focused && a.add("focused"), e.beforeShow && e.performBeforeHook(t, r, r) }) } }, { key: "refresh", value: function () { var e = this, t = _slicedToArray(this.range || [], 2), i = t[0], n = t[1]; this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function (e) { e.classList.remove("range", "range-start", "range-end", "selected", "focused") }), Array.from(this.grid.children).forEach(function (t) { var a = Number(t.dataset.date), r = t.classList; a > i && a < n && r.add("range"), a === i && r.add("range-start"), a === n && r.add("range-end"), e.selected.includes(a) && r.add("selected"), a === e.focused && r.add("focused") }) } }, { key: "refreshFocus", value: function () { var e = Math.round((this.focused - this.start) / 864e5); this.grid.querySelectorAll(".focused").forEach(function (e) { e.classList.remove("focused") }), this.grid.children[e].classList.add("focused") } }]), a }(); function Z(e, t) { if (e && e[0] && e[1]) { var i = _slicedToArray(e, 2), n = _slicedToArray(i[0], 2), a = n[0], r = n[1], s = _slicedToArray(i[1], 2), o = s[0], d = s[1]; if (!(a > t || o < t)) return [a === t ? r : -1, o === t ? d : 12] } } var ee = function (t) { _inherits(a, G); var n = _createSuper(a); function a(e) { return _classCallCheck(this, a), n.call(this, e, { id: 1, name: "months", cellClass: "month" }) } return _createClass(a, [{ key: "init", value: function (e) { (!(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]) && (this.grid = this.element, this.element.classList.add("months", "datepicker-grid"), this.grid.appendChild(T(s("span", 12, { "data-month": function (e) { return e } })))), _get(_getPrototypeOf(a.prototype), "init", this).call(this, e) } }, { key: "setOptions", value: function (t) { if (t.locale && (this.monthNames = t.locale.monthsShort), e(t, "minDate")) if (void 0 === t.minDate) this.minYear = this.minMonth = this.minDate = void 0; else { var i = new Date(t.minDate); this.minYear = i.getFullYear(), this.minMonth = i.getMonth(), this.minDate = i.setDate(1) } if (e(t, "maxDate")) if (void 0 === t.maxDate) this.maxYear = this.maxMonth = this.maxDate = void 0; else { var n = new Date(t.maxDate); this.maxYear = n.getFullYear(), this.maxMonth = n.getMonth(), this.maxDate = l(this.maxYear, this.maxMonth + 1, 0) } void 0 !== t.beforeShowMonth && (this.beforeShow = "function" == typeof t.beforeShowMonth ? t.beforeShowMonth : void 0) } }, { key: "updateFocus", value: function () { var e = new Date(this.picker.viewDate); this.year = e.getFullYear(), this.focused = e.getMonth() } }, { key: "updateSelection", value: function () { var e = this.picker.datepicker, t = e.dates, n = e.rangepicker; this.selected = t.reduce(function (e, t) { var n = new Date(t), a = n.getFullYear(), r = n.getMonth(); return void 0 === e[a] ? e[a] = [r] : i(e[a], r), e }, {}), n && n.dates && (this.range = n.dates.map(function (e) { var t = new Date(e); return isNaN(t) ? void 0 : [t.getFullYear(), t.getMonth()] })) } }, { key: "render", value: function () { var e = this; this.disabled = [], this.picker.setViewSwitchLabel(this.year), this.picker.setPrevBtnDisabled(this.year <= this.minYear), this.picker.setNextBtnDisabled(this.year >= this.maxYear); var t = this.selected[this.year] || [], i = this.year < this.minYear || this.year > this.maxYear, n = this.year === this.minYear, a = this.year === this.maxYear, r = Z(this.range, this.year); Array.from(this.grid.children).forEach(function (s, o) { var d = s.classList, c = l(e.year, o, 1); if (s.className = "datepicker-cell ".concat(e.cellClass), e.isMinView && (s.dataset.date = c), s.textContent = e.monthNames[o], (i || n && o < e.minMonth || a && o > e.maxMonth) && d.add("disabled"), r) { var u = _slicedToArray(r, 2), h = u[0], f = u[1]; o > h && o < f && d.add("range"), o === h && d.add("range-start"), o === f && d.add("range-end") } t.includes(o) && d.add("selected"), o === e.focused && d.add("focused"), e.beforeShow && e.performBeforeHook(s, o, c) }) } }, { key: "refresh", value: function () { var e = this, t = this.selected[this.year] || [], i = _slicedToArray(Z(this.range, this.year) || [], 2), n = i[0], a = i[1]; this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function (e) { e.classList.remove("range", "range-start", "range-end", "selected", "focused") }), Array.from(this.grid.children).forEach(function (i, r) { var s = i.classList; r > n && r < a && s.add("range"), r === n && s.add("range-start"), r === a && s.add("range-end"), t.includes(r) && s.add("selected"), r === e.focused && s.add("focused") }) } }, { key: "refreshFocus", value: function () { this.grid.querySelectorAll(".focused").forEach(function (e) { e.classList.remove("focused") }), this.grid.children[this.focused].classList.add("focused") } }]), a }(); var te = function (t) { _inherits(a, G); var n = _createSuper(a); function a(e, t) { return _classCallCheck(this, a), n.call(this, e, t) } return _createClass(a, [{ key: "init", value: function (e) { (!(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]) && (this.navStep = 10 * this.step, this.beforeShowOption = "beforeShow".concat(_toConsumableArray(this.cellClass).reduce(function (e, t, i) { return e + (i ? t : t.toUpperCase()) }, "")), this.grid = this.element, this.element.classList.add(this.name, "datepicker-grid"), this.grid.appendChild(T(s("span", 12)))), _get(_getPrototypeOf(a.prototype), "init", this).call(this, e) } }, { key: "setOptions", value: function (t) { if (e(t, "minDate") && (void 0 === t.minDate ? this.minYear = this.minDate = void 0 : (this.minYear = y(t.minDate, this.step), this.minDate = l(this.minYear, 0, 1))), e(t, "maxDate") && (void 0 === t.maxDate ? this.maxYear = this.maxDate = void 0 : (this.maxYear = y(t.maxDate, this.step), this.maxDate = l(this.maxYear, 11, 31))), void 0 !== t[this.beforeShowOption]) { var i = t[this.beforeShowOption]; this.beforeShow = "function" == typeof i ? i : void 0 } } }, { key: "updateFocus", value: function () { var e = new Date(this.picker.viewDate), t = y(e, this.navStep), i = t + 9 * this.step; this.first = t, this.last = i, this.start = t - this.step, this.focused = y(e, this.step) } }, { key: "updateSelection", value: function () { var e = this, t = this.picker.datepicker, n = t.dates, a = t.rangepicker; this.selected = n.reduce(function (t, n) { return i(t, y(n, e.step)) }, []), a && a.dates && (this.range = a.dates.map(function (t) { if (void 0 !== t) return y(t, e.step) })) } }, { key: "render", value: function () { var e = this; this.disabled = [], this.picker.setViewSwitchLabel("".concat(this.first, "-").concat(this.last)), this.picker.setPrevBtnDisabled(this.first <= this.minYear), this.picker.setNextBtnDisabled(this.last >= this.maxYear), Array.from(this.grid.children).forEach(function (t, i) { var n = t.classList, a = e.start + i * e.step, r = l(a, 0, 1); if (t.className = "datepicker-cell ".concat(e.cellClass), e.isMinView && (t.dataset.date = r), t.textContent = t.dataset.year = a, 0 === i ? n.add("prev") : 11 === i && n.add("next"), (a < e.minYear || a > e.maxYear) && n.add("disabled"), e.range) { var s = _slicedToArray(e.range, 2), o = s[0], d = s[1]; a > o && a < d && n.add("range"), a === o && n.add("range-start"), a === d && n.add("range-end") } e.selected.includes(a) && n.add("selected"), a === e.focused && n.add("focused"), e.beforeShow && e.performBeforeHook(t, a, r) }) } }, { key: "refresh", value: function () { var e = this, t = _slicedToArray(this.range || [], 2), i = t[0], n = t[1]; this.grid.querySelectorAll(".range, .range-start, .range-end, .selected, .focused").forEach(function (e) { e.classList.remove("range", "range-start", "range-end", "selected", "focused") }), Array.from(this.grid.children).forEach(function (t) { var a = Number(t.textContent), r = t.classList; a > i && a < n && r.add("range"), a === i && r.add("range-start"), a === n && r.add("range-end"), e.selected.includes(a) && r.add("selected"), a === e.focused && r.add("focused") }) } }, { key: "refreshFocus", value: function () { var e = Math.round((this.focused - this.start) / this.step); this.grid.querySelectorAll(".focused").forEach(function (e) { e.classList.remove("focused") }), this.grid.children[e].classList.add("focused") } }]), a }(); function ie(e, t) { var i = { date: e.getDate(), viewDate: new Date(e.picker.viewDate), viewId: e.picker.currentView.id, datepicker: e }; if (e.element.dispatchEvent(new CustomEvent(t, { detail: i })), "changeDate" === t) { var n = i.date; e.element.dispatchEvent(new CustomEvent("change", { modelValue: n })) } } function ne(e, t) { var i, n = e.config, a = n.minDate, s = n.maxDate, o = e.picker, d = o.currentView, c = o.viewDate; switch (d.id) { case 0: i = h(c, t); break; case 1: i = f(c, t); break; default: i = f(c, t * d.navStep) }i = r(i, a, s), e.picker.changeFocus(i).render() } function ae(e) { var t = e.picker.currentView.id; t !== e.config.maxView && e.picker.changeView(t + 1).render() } function re(e) { e.config.updateOnBlur ? e.update({ autohide: !0 }) : (e.refresh("input"), e.hide()) } function se(e, t) { var i = e.picker, n = new Date(i.viewDate), a = i.currentView.id, r = 1 === a ? h(n, t - n.getMonth()) : f(n, t - n.getFullYear()); i.changeFocus(r).changeView(a - 1).render() } function oe(e) { var t = e.picker, i = c(); if (1 === e.config.todayBtnMode) { if (e.config.autohide) return void e.setDate(i); e.setDate(i, { render: !1 }), t.update() } t.viewDate !== i && t.changeFocus(i), t.changeView(0).render() } function de(e) { e.setDate({ clear: !0 }) } function ce(e) { ae(e) } function le(e) { ne(e, -1) } function ue(e) { ne(e, 1) } function he(e, t) { var i = V(t, ".datepicker-cell"); if (i && !i.classList.contains("disabled")) { var n = e.picker.currentView, a = n.id; n.isMinView ? e.setDate(Number(i.dataset.date)) : se(e, 1 === a ? Number(i.dataset.month) : Number(i.dataset.year)) } } function fe(e) { e.inline || e.config.disableTouchKeyboard || e.inputField.focus() } function pe(t, i) { if (void 0 !== i.title && (i.title ? (t.controls.title.textContent = i.title, Y(t.controls.title)) : (t.controls.title.textContent = "", W(t.controls.title))), i.prevArrow) { var n = t.controls.prevBtn; P(n), i.prevArrow.forEach(function (e) { n.appendChild(e.cloneNode(!0)) }) } if (i.nextArrow) { var r = t.controls.nextBtn; P(r), i.nextArrow.forEach(function (e) { r.appendChild(e.cloneNode(!0)) }) } if (i.locale && (t.controls.todayBtn.textContent = i.locale.today, t.controls.clearBtn.textContent = i.locale.clear), void 0 !== i.todayBtn && (i.todayBtn ? Y(t.controls.todayBtn) : W(t.controls.todayBtn)), e(i, "minDate") || e(i, "maxDate")) { var s = t.datepicker.config, o = s.minDate, d = s.maxDate; t.controls.todayBtn.disabled = !a(c(), o, d) } void 0 !== i.clearBtn && (i.clearBtn ? Y(t.controls.clearBtn) : W(t.controls.clearBtn)) } function ve(e) { var i = e.dates, n = e.config; return r(i.length > 0 ? t(i) : n.defaultViewDate, n.minDate, n.maxDate) } function ye(e, t) { var i = new Date(e.viewDate), n = new Date(t), a = e.currentView, r = a.id, s = a.year, o = a.first, d = a.last, c = n.getFullYear(); switch (e.viewDate = t, c !== i.getFullYear() && ie(e.datepicker, "changeYear"), n.getMonth() !== i.getMonth() && ie(e.datepicker, "changeMonth"), r) { case 0: return t < o || t > d; case 1: return c !== s; default: return c < o || c > d } } function ge(e) { return window.getComputedStyle(e).direction } var me = function () { function e(t) { _classCallCheck(this, e), this.datepicker = t; var i = U.replace(/%buttonClass%/g, t.config.buttonClass), n = this.element = T(i).firstChild, a = _slicedToArray(n.firstChild.children, 3), r = a[0], s = a[1], o = a[2], d = r.firstElementChild, c = _slicedToArray(r.lastElementChild.children, 3), l = c[0], u = c[1], h = c[2], f = _slicedToArray(o.firstChild.children, 2), p = { title: d, prevBtn: l, viewSwitch: u, nextBtn: h, todayBtn: f[0], clearBtn: f[1] }; this.main = s, this.controls = p; var v = t.inline ? "inline" : "dropdown"; n.classList.add("datepicker-".concat(v)), pe(this, t.config), this.viewDate = ve(t), E(t, [[n, "click", fe.bind(null, t), { capture: !0 }], [s, "click", he.bind(null, t)], [p.viewSwitch, "click", ce.bind(null, t)], [p.prevBtn, "click", le.bind(null, t)], [p.nextBtn, "click", ue.bind(null, t)], [p.todayBtn, "click", oe.bind(null, t)], [p.clearBtn, "click", de.bind(null, t)]]), this.views = [new Q(this), new ee(this), new te(this, { id: 2, name: "years", cellClass: "year", step: 1 }), new te(this, { id: 3, name: "decades", cellClass: "decade", step: 10 })], this.currentView = this.views[t.config.startView], this.currentView.render(), this.main.appendChild(this.currentView.element), t.config.container.appendChild(this.element) } return _createClass(e, [{ key: "setOptions", value: function (e) { pe(this, e), this.views.forEach(function (t) { t.init(e, !1) }), this.currentView.render() } }, { key: "detach", value: function () { this.datepicker.config.container.removeChild(this.element) } }, { key: "show", value: function () { if (!this.active) { this.element.classList.add("active"), this.active = !0; var e = this.datepicker; if (!e.inline) { var t = ge(e.inputField); t !== ge(e.config.container) ? this.element.dir = t : this.element.dir && this.element.removeAttribute("dir"), this.place(), e.config.disableTouchKeyboard && e.inputField.blur() } ie(e, "show") } } }, { key: "hide", value: function () { this.active && (this.datepicker.exitEditMode(), this.element.classList.remove("active"), this.active = !1, ie(this.datepicker, "hide")) } }, { key: "place", value: function () { var e, t, i, n = this.element, a = n.classList, r = n.style, s = this.datepicker, o = s.config, d = s.inputField, c = o.container, l = this.element.getBoundingClientRect(), u = l.width, h = l.height, f = c.getBoundingClientRect(), p = f.left, v = f.top, y = f.width, g = d.getBoundingClientRect(), m = g.left, k = g.top, w = g.width, b = g.height, D = o.orientation, _ = D.x, S = D.y; c === document.body ? (e = window.scrollY, t = m + window.scrollX, i = k + e) : (t = m - p, i = k - v + (e = c.scrollTop)), "auto" === _ && (t < 0 ? (_ = "left", t = 10) : _ = t + u > y ? "right" : "rtl" === ge(d) ? "right" : "left"), "right" === _ && (t -= u - w), "auto" === S && (S = i - h < e ? "bottom" : "top"), "top" === S ? i -= h : i += b, a.remove("datepicker-orient-top", "datepicker-orient-bottom", "datepicker-orient-right", "datepicker-orient-left"), a.add("datepicker-orient-".concat(S), "datepicker-orient-".concat(_)), r.top = i ? "".concat(i, "px") : i, r.left = t ? "".concat(t, "px") : t } }, { key: "setViewSwitchLabel", value: function (e) { this.controls.viewSwitch.textContent = e } }, { key: "setPrevBtnDisabled", value: function (e) { this.controls.prevBtn.disabled = e } }, { key: "setNextBtnDisabled", value: function (e) { this.controls.nextBtn.disabled = e } }, { key: "changeView", value: function (e) { var t = this.currentView, i = this.views[e]; return i.id !== t.id && (this.currentView = i, this._renderMethod = "render", ie(this.datepicker, "changeView"), this.main.replaceChild(i.element, t.element)), this } }, { key: "changeFocus", value: function (e) { return this._renderMethod = ye(this, e) ? "render" : "refreshFocus", this.views.forEach(function (e) { e.updateFocus() }), this } }, { key: "update", value: function () { var e = ve(this.datepicker); return this._renderMethod = ye(this, e) ? "render" : "refresh", this.views.forEach(function (e) { e.updateFocus(), e.updateSelection() }), this } }, { key: "render", value: function () { var e = (!(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0]) && this._renderMethod || "render"; delete this._renderMethod, this.currentView[e]() } }]), e }(); function ke(e, t, i, n) { var r, s, o = e.picker, d = o.currentView, c = d.step || 1, l = o.viewDate; switch (d.id) { case 0: l = n ? u(l, 7 * i) : t.ctrlKey || t.metaKey ? f(l, i) : u(l, i), r = u, s = function (e) { return d.disabled.includes(e) }; break; case 1: l = h(l, n ? 4 * i : i), r = h, s = function (e) { var t = new Date(e), i = d.year, n = d.disabled; return t.getFullYear() === i && n.includes(t.getMonth()) }; break; default: l = f(l, i * (n ? 4 : 1) * c), r = f, s = function (e) { return d.disabled.includes(y(e, c)) } }void 0 !== (l = function e(t, i, n, r, s, o) { if (a(t, s, o)) return r(t) ? e(i(t, n), i, n, r, s, o) : t }(l, r, i < 0 ? -c : c, s, d.minDate, d.maxDate)) && o.changeFocus(l).render() } function we(e, t) { if ("Tab" !== t.key) { var i = e.picker, n = i.currentView, a = n.id, r = n.isMinView; if (i.active) if (e.editMode) switch (t.key) { case "Escape": i.hide(); break; case "Enter": e.exitEditMode({ update: !0, autohide: e.config.autohide }); break; default: return } else switch (t.key) { case "Escape": i.hide(); break; case "ArrowLeft": if (t.ctrlKey || t.metaKey) ne(e, -1); else { if (t.shiftKey) return void e.enterEditMode(); ke(e, t, -1, !1) } break; case "ArrowRight": if (t.ctrlKey || t.metaKey) ne(e, 1); else { if (t.shiftKey) return void e.enterEditMode(); ke(e, t, 1, !1) } break; case "ArrowUp": if (t.ctrlKey || t.metaKey) ae(e); else { if (t.shiftKey) return void e.enterEditMode(); ke(e, t, -1, !0) } break; case "ArrowDown": if (t.shiftKey && !t.ctrlKey && !t.metaKey) return void e.enterEditMode(); ke(e, t, 1, !0); break; case "Enter": r ? e.setDate(i.viewDate) : i.changeView(a - 1).render(); break; case "Backspace": case "Delete": return void e.enterEditMode(); default: return void (1 !== t.key.length || t.ctrlKey || t.metaKey || e.enterEditMode()) } else switch (t.key) { case "ArrowDown": case "Escape": i.show(); break; case "Enter": e.update(); break; default: return }t.preventDefault(), t.stopPropagation() } else re(e) } function be(e) { e.config.showOnFocus && !e._showing && e.show() } function De(e, t) { var i = t.target; (e.picker.active || e.config.showOnClick) && (i._active = i === document.activeElement, i._clicking = setTimeout(function () { delete i._active, delete i._clicking }, 2e3)) } function _e(e, t) { var i = t.target; i._clicking && (clearTimeout(i._clicking), delete i._clicking, i._active && e.enterEditMode(), delete i._active, e.config.showOnClick && e.show()) } function Se(e, t) { t.clipboardData.types.includes("text/plain") && e.enterEditMode() } function Ce(e, t) { return e.map(function (e) { return C(e, t.format, t.locale) }).join(t.dateDelimiter) } function Oe(e, t) { var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], n = e.config, r = e.dates, s = e.rangepicker; if (0 === t.length) return i ? [] : void 0; var o = s && e === s.datepickers[1], d = t.reduce(function (e, t) { var i = S(t, n.format, n.locale); if (void 0 === i) return e; if (n.pickLevel > 0) { var r = new Date(i); i = 1 === n.pickLevel ? o ? r.setMonth(r.getMonth() + 1, 0) : r.setDate(1) : o ? r.setFullYear(r.getFullYear() + 1, 0, 0) : r.setMonth(0, 1) } return !a(i, n.minDate, n.maxDate) || e.includes(i) || n.datesDisabled.includes(i) || n.daysOfWeekDisabled.includes(new Date(i).getDay()) || e.push(i), e }, []); return 0 !== d.length ? (n.multidate && !i && (d = d.reduce(function (e, t) { return r.includes(t) || e.push(t), e }, r.filter(function (e) { return !d.includes(e) }))), n.maxNumberOfDates && d.length > n.maxNumberOfDates ? d.slice(-1 * n.maxNumberOfDates) : d) : void 0 } function xe(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3, i = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2], n = e.config, a = e.picker, r = e.inputField; if (2 & t) { var s = a.active ? n.pickLevel : n.startView; a.update().changeView(s).render(i) } 1 & t && r && (r.value = Ce(e.dates, n)) } function Me(e, t, i) { var n = i.clear, a = i.render, r = i.autohide; void 0 === a && (a = !0), a ? void 0 === r && (r = e.config.autohide) : r = !1; var s = Oe(e, t, n); s && (s.toString() !== e.dates.toString() ? (e.dates = s, xe(e, a ? 3 : 1), ie(e, "changeDate")) : xe(e, 1), r && e.hide()) } var Ae = function () { function e(t) { var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}, a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0; _classCallCheck(this, e), t.datepicker = this, this.element = t; var r = this.config = Object.assign({ buttonClass: i.buttonClass && String(i.buttonClass) || "button", container: document.body, defaultViewDate: c(), maxDate: void 0, minDate: void 0 }, z(L, this)); this._options = i, Object.assign(r, z(i, this)); var s, o, d = this.inline = "INPUT" !== t.tagName; if (d) r.container = t, o = n(t.dataset.date, r.dateDelimiter), delete t.dataset.date; else { var l = i.container ? document.querySelector(i.container) : null; l && (r.container = l), (s = this.inputField = t).classList.add("datepicker-input"), o = n(s.value, r.dateDelimiter) } if (a) { var u = a.inputs.indexOf(s), h = a.datepickers; if (u < 0 || u > 1 || !Array.isArray(h)) throw Error("Invalid rangepicker object."); h[u] = this, Object.defineProperty(this, "rangepicker", { get: function () { return a } }) } this.dates = []; var f = Oe(this, o); f && f.length > 0 && (this.dates = f), s && (s.value = Ce(this.dates, r)); var p = this.picker = new me(this); if (d) this.show(); else { var v = function (e, t) { var i = e.element; if (i === document.activeElement) { var n = e.picker.element; V(t, function (e) { return e === i || e === n }) || re(e) } }.bind(null, this); E(this, [[s, "keydown", we.bind(null, this)], [s, "focus", be.bind(null, this)], [s, "mousedown", De.bind(null, this)], [s, "click", _e.bind(null, this)], [s, "paste", Se.bind(null, this)], [document, "mousedown", v], [document, "touchstart", v], [window, "resize", p.place.bind(p)]]) } } return _createClass(e, [{ key: "active", get: function () { return !(!this.picker || !this.picker.active) } }, { key: "pickerElement", get: function () { return this.picker ? this.picker.element : void 0 } }, { key: "setOptions", value: function (e) { var t = this.picker, i = z(e, this); Object.assign(this._options, e), Object.assign(this.config, i), t.setOptions(i), xe(this, 3) } }, { key: "show", value: function () { if (this.inputField) { if (this.inputField.disabled) return; this.inputField !== document.activeElement && (this._showing = !0, this.inputField.focus(), delete this._showing) } this.picker.show() } }, { key: "hide", value: function () { this.inline || (this.picker.hide(), this.picker.update().changeView(this.config.startView).render()) } }, { key: "destroy", value: function () { return this.hide(), F(this), this.picker.detach(), this.inline || this.inputField.classList.remove("datepicker-input"), delete this.element.datepicker, this } }, { key: "getDate", value: function () { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0, i = t ? function (i) { return C(i, t, e.config.locale) } : function (e) { return new Date(e) }; return this.config.multidate ? this.dates.map(i) : this.dates.length > 0 ? i(this.dates[0]) : void 0 } }, { key: "setDate", value: function () { for (var e = arguments.length, i = new Array(e), n = 0; n < e; n++)i[n] = arguments[n]; var a = [].concat(i), r = {}, s = t(i); "object" !== _typeof(s) || Array.isArray(s) || _instanceof(s, Date) || !s || Object.assign(r, a.pop()), Me(this, Array.isArray(a[0]) ? a[0] : a, r) } }, { key: "update", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0; if (!this.inline) { var t = { clear: !0, autohide: !(!e || !e.autohide) }; Me(this, n(this.inputField.value, this.config.dateDelimiter), t) } } }, { key: "refresh", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0, t = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; e && "string" != typeof e && (t = e, e = void 0), xe(this, "picker" === e ? 2 : "input" === e ? 1 : 3, !t) } }, { key: "enterEditMode", value: function () { this.inline || !this.picker.active || this.editMode || (this.editMode = !0, this.inputField.classList.add("in-edit")) } }, { key: "exitEditMode", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0; if (!this.inline && this.editMode) { var t = Object.assign({ update: !1 }, e); delete this.editMode, this.inputField.classList.remove("in-edit"), t.update && this.update(t) } } }], [{ key: "formatDate", value: function (e, t, i) { return C(e, t, i && N[i] || N.en) } }, { key: "parseDate", value: function (e, t, i) { return S(e, t, i && N[i] || N.en) } }, { key: "locales", get: function () { return N } }]), e }(); function Ee(e) { var t = Object.assign({}, e); return delete t.inputs, delete t.allowOneSidedRange, delete t.maxNumberOfDates, t } function Fe(e, t, i, n) { E(e, [[i, "changeDate", t]]), new Ae(i, n, e) } function Ve(e, t) { if (!e._updating) { e._updating = !0; var i = t.target; if (void 0 !== i.datepicker) { var n = e.datepickers, a = { render: !1 }, r = e.inputs.indexOf(i), s = 0 === r ? 1 : 0, o = n[r].dates[0], d = n[s].dates[0]; void 0 !== o && void 0 !== d ? 0 === r && o > d ? (n[0].setDate(d, a), n[1].setDate(o, a)) : 1 === r && o < d && (n[0].setDate(o, a), n[1].setDate(d, a)) : e.allowOneSidedRange || void 0 === o && void 0 === d || (a.clear = !0, n[s].setDate(n[r].dates, a)), n[0].picker.update().render(), n[1].picker.update().render(), delete e._updating } } } var Ne = function () { function e(t) { var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; _classCallCheck(this, e); var n = Array.isArray(i.inputs) ? i.inputs : Array.from(t.querySelectorAll("input")); if (!(n.length < 2)) { t.rangepicker = this, this.element = t, this.inputs = n.slice(0, 2), this.allowOneSidedRange = !!i.allowOneSidedRange; var a = Ve.bind(null, this), r = Ee(i), s = []; Object.defineProperty(this, "datepickers", { get: function () { return s } }), Fe(this, a, this.inputs[0], r), Fe(this, a, this.inputs[1], r), Object.freeze(s), s[0].dates.length > 0 ? Ve(this, { target: this.inputs[0] }) : s[1].dates.length > 0 && Ve(this, { target: this.inputs[1] }) } } return _createClass(e, [{ key: "dates", get: function () { return 2 === this.datepickers.length ? [this.datepickers[0].dates[0], this.datepickers[1].dates[0]] : void 0 } }, { key: "setOptions", value: function (e) { this.allowOneSidedRange = !!e.allowOneSidedRange; var t = Ee(e); this.datepickers[0].setOptions(t), this.datepickers[1].setOptions(t) } }, { key: "destroy", value: function () { this.datepickers[0].destroy(), this.datepickers[1].destroy(), F(this), delete this.element.rangepicker } }, { key: "getDates", value: function () { var e = this, t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : void 0, i = t ? function (i) { return C(i, t, e.datepickers[0].config.locale) } : function (e) { return new Date(e) }; return this.dates.map(function (e) { return void 0 === e ? e : i(e) }) } }, { key: "setDates", value: function (e, t) { var i = _slicedToArray(this.datepickers, 2), n = i[0], a = i[1], r = this.dates; this._updating = !0, n.setDate(e), a.setDate(t), delete this._updating, a.dates[0] !== r[1] ? Ve(this, { target: this.inputs[1] }) : n.dates[0] !== r[0] && Ve(this, { target: this.inputs[0] }) } }]), e }(); window.Datepicker = Ae, window.DateRangePicker = Ne }(), DatePicker = Datepicker || {}, DatePicker.initialize = function (e, t) { var i = document.getElementById(e); new Datepicker(i, { format: "dd/mm/yyyy", title: t }) };